---
title: Tauri アーキテクチャ
sidebar:
  order: 0
---

## はじめに

Tauri は、非常に構築しやすく、且つ、エンジニアがさまざまなアプリケーションを作成できる、多言語対応の汎用ツールキットです。Rust のツール群と Webview でレンダリングされる HTML の組み合わせを用いて、デスクトップ・コンピューター用アプリケーションの構築に利用されます。Tauri で構築されたアプリには、JavaScript API ／ Rust API をいくつでも同梱できるので、Webview はメッセージ・パッシング機能を介してシステムを制御できます。開発者は、デフォルトの API を独自の機能で拡張し、Webview と Rust ベースのバックエンドを簡単に繋ぐことができます。

Tauri のアプリは、[トレイ型インターフェース](/ja/learn/system-tray/)（システムトレイ／タスクトレイ）が利用できます。アプリは [更新プラグイン](/ja/plugin/updater/) を利用することで、想定通りに使用中のオペレーティング・システムによって管理されるようになります。OS の WebView を使用するため、アプリ・サイズは非常に小さくなります。最終バイナリ（アプリ実行ファイル）が Rust からコンパイルされるため、ランタイム（実行時ファイル）は提供されません。このため、[Tauri アプリの逆解析は簡単ではありません](/ja/security/)。

### Tauri は 〜ではない

Tauri は軽量のカーネル・ラッパーという訳ではありません。その代わりに、OS へのシステム・コールを実行する際に、WebView レンダリング・ライブラリーの [ライ WRY](#wryライ) とウィンドウ生成ライブラリーの [タオ TAO](#TAOタオ) を直接使用して、重く手間のかかる処理を実行します。

Tauri は バーチャル・マシン（VM）や仮想環境という訳ではありません。その代わりに、WebView OS アプリケーションを作成できるアプリケーション・ツールキットです。

## コア・エコシステム

<figure>

```d2 sketch pad=50
direction: up

Core: {
  shape: rectangle
  "tauri": {
    "tauri-runtime"
    "tauri-macros"
    "tauri-utils"
  }

  "tauri-build"
  "tauri-codegen"
  "tauri-runtime-wry"
}

Upstream: {
  shape: rectangle
  direction: right
  WRY
  TAO
}

Core."tauri"."tauri-runtime" -> Core."tauri-runtime-wry"{style.animated: true}

Upstream.WRY -> Upstream.TAO{style.animated: true}
Core."tauri-runtime-wry" -> Upstream.Wry {style.animated: true}
```

<figcaption>Tauri アーキテクチャの構成略図</figcaption>
</figure>

### tauri（タウリ）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri)

tauri 部がすべてをまとめる主要クレートです。ここで、ランタイム、マクロ、ユーティリティ、API を一つの最終製品にまとめます。コンパイル時に [`tauri.conf.json`](/reference/config/) ファイルを読み込み、機能の導入とアプリの実際の構成設定を行ないます（プロジェクト・フォルダー内の `Cargo.toml` ファイル設定も）。実行時にはスクリプトの挿入を処理し（polyfill コードやプロトタイプの改訂用）、システム操作用の API をホスト（実行可能に）し、更新プロセスをも管理します。

### tauri-runtime（タウリ・ランタイム）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-runtime)

Tauri 本体と下位レベルの Webview ライブラリとを接合するレイヤー。

### tauri-macros（タウリ・マクロ）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-macros)

[`tauri-codegen`](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-codegen) クレートを活用して、コンテキスト、ハンドラー、およびコマンドのマクロを作成します。

### tauri-utils（タウリ・ユーティリティ）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-utils)

設定ファイルの解析、動作環境（三大プラットフォーム）の検出、CSP（クラウド・サービス・プロバイダ）の挿入、アセットの管理など、多くの場所で再利用され、便利なユーティリティを提供する共通のコード。

### tauri-build（タウリ・ビルド）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-build)

ビルド時にマクロを適用して、`cargo` に必要ないくつかの特別な機能を装備します。

### tauri-codegen（タウリ・コードジェン）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-codegen)

アプリのアイコンやシステム・トレイなどを含むアセット（デジタル資産）を埋め込み、ハッシュ化し、圧縮します。コンパイル時に [`tauri.conf.json`](/reference/config/) を解析し、Config 構造体を生成するコード生成ツールです。

### tauri-runtime-wry（タウリ・ランタイム・ライ）

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-runtime-wry)

このクレートは、印刷、モニター検出、その他のウィンドウ関連のタスクなど、WRY 専用の直接的なシステム・レベルので操作を開始します。

## Tauri Tooling（タウリ・ツール）

### API (JavaScript / TypeScript)

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/packages/api)

Webview がバックエンド（プログラム内部処理）でのアクティビティを呼び出して（コール）・応答待機（リッスン）できるようにするために、フロントエンド（ユーザー・インターフェイス）のフレームワークにインポートして、`cjs`（CommonJS モジュール）および `esm`（ECMAScript モジュール）という JavaScript 標準入出力エンドポイントを作成する Typescript のライブラリ。いくつかのフレームワークではより最適な形態である、純然たる Typescript のみの形でも出荷されます。このライブラリは Webview からそれぞれのホスト（接続先）へのメッセージ・パッシング機能（処理依頼）を使用します。

### Bundler (Rust / Shell)

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-bundler)

Bundler（バンドラー）は検出または通知されたプラットフォーム用に Tauri アプリを構築するライブラリです。現在は macOS、Windows、Linux をサポートしていますが、近い将来にはモバイル・プラットフォームもサポートされる予定です。Tauri プロジェクト以外でも使用できます。

### cli.rs (Rust)

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/crates/tauri-cli)

この Rust 実行可能ファイルは、CLI（コマンドライン・インターフェイス）が必要とするアクティビティすべてに対する完全なインターフェースを提供します。このファイルは macOS、Windows、Linux のいずれでも動作します。

### cli.js (JavaScript)

[GitHub で閲覧](https://github.com/tauri-apps/tauri/tree/dev/packages/cli)

[`napi-rs`](https://github.com/napi-rs/napi-rs) を使用して [`cli.rs`](https://github.com/tauri-apps/tauri/blob/dev/crates/tauri-cli) を各プラットフォーム用で利用できるようにしたラッパーで、npm パッケージ（Node.js Package Manager）を生成します。

### create-tauri-app (JavaScript)

[GitHub で閲覧](https://github.com/tauri-apps/create-tauri-app)

選択したフロントエンド・フレームワークを使用して、技術チームが新しい `tauri-apps` のプロジェクトを迅速に構築できるようにするツールキット（設定がされている場合）。

## 上流のクレート

Tauri-Apps の構造には、Tauri の「上流」に二つのクレート、つまりアプリケーション・ウィンドウの作成と管理を行なう TAO（タオ）と、ウィンドウ内の Webview と連動する wry（ライ）を管理しています。

### TAO（タオ）

[GitHub で閲覧](https://github.com/tauri-apps/tao)

Rust で書かれたクロスプラットフォームのアプリケーション・ウィンドウ作成ライブラリで、Windows、macOS、Linux、iOS、Android など、すべての主要プラットフォームをサポートしています。Rust で記述され、[winit](https://github.com/rust-windowing/winit) のフォークであり、メニュー・バーやシステム・トレイなど、Tauri 独自のニーズに合わせて拡張されています。

### WRY（ライ）

[GitHub で閲覧](https://github.com/tauri-apps/wry)

WRY は、Rust で書かれたクロスプラットフォーム WebView レンダリング・ライブラリで、Windows、macOS、Linux など主要なデスクトップ・プラットフォームをすべてサポートしています。
Tauri は WRY を抽象レイヤーとして使用し、どの Webview が使用されるか（およびどのようにインタラクション／相互交信が行なわれるか）を決定する役割を担っています。

## その他のツール

### tauri-action（タウリ・アクション）

[GitHub で閲覧](https://github.com/tauri-apps/tauri-action)

すべてのプラットフォーム用の Tauri バイナリをビルドする GitHub ワークフロー（自動化プロセス）。Tauri が設定されていない場合でも、(非常に基本的な) Tauri アプリを作成できます。

### tauri-vscode

[GitHub で閲覧](https://github.com/tauri-apps/tauri-vscode)

このツールは、いくつかのあると便利な機能によって Visual Studio Code のインターフェイスを強化します。

### vue-cli-plugin-tauri

[GitHub で閲覧](https://github.com/tauri-apps/vue-cli-plugin-tauri)

このツールを使用すると、vue-cli プロジェクトに非常に迅速に Tauri をインストールできます。

## プラグイン

[Tauri プラグイン・ガイド](/develop/plugins/)

一般的に言えば、プラグインはサードパーティによって作成されています（公式のサポートされているプラ​​グインが存在する場合もあります）。プラグインは通常、次の三つのことを行ないます：

1. Rust のコードを有効化し、実行可能にします
2. アプリへの統合を容易にするインターフェースのグルー機能（glue）を提供します
3. Rust コードとのインターフェース用 JavaScript API を提供します

以下は、Tauri のプラグイン例です：

- [tauri-plugin-fs](https://github.com/tauri-apps/tauri-plugin-fs)
- [tauri-plugin-sql](https://github.com/tauri-apps/tauri-plugin-sql)
- [tauri-plugin-stronghold](https://github.com/tauri-apps/tauri-plugin-stronghold)

## ライセンス

Tauri 自体は MIT または Apache-2.0 のライセンスの下で配布されています。あなたが Tauri を再パッケージ化してソース・コードを変更する場合、すべての上流のライセンスに準拠していることを確認する責任は、あなたにあります。Tauri は現状のまま提供され、どのような目的に対してもその適合性について明示的に主張するものではありません。

こちらで、 [ソフトウェア状態 管理表](https://app.fossa.com/projects/git%2Bgithub.com%2Ftauri-apps%2Ftauri) の詳細を確認することができます。


<div style="text-align:right">
【※ この日本語版は、「Nov 11, 2024 英語版」に基づいています】<br>
Doc-JP 2.00.00
</div>
